<header class="header">
  <span>MetaCleaner</span>
</header>
<div class="main-block">
  <div class="web-version" *ngIf="isWebVersion">
    <button (click)="installPwa()">
      Встановити
    </button>
    It's web version site
  </div>

  <video #video name="video" autoplay style="display: none"></video>
  <button *ngIf="stream && !photosWithClearMetadata" type="button" class='take-photo-btn' (click)="takePhoto()">
    Зробити фото
  </button>

  <div
    class="downloaded-version"
    *ngIf="
      !isWebVersion &&
      (!continueListPhotos || !continueListPhotos?.length) &&
      !stream
    "
  >
    <div class="meta-block">
      <input
        id="file-input"
        type="file"
        multiple="multiple"
        (change)="handleFiles($event)"
      />
      <label for="file-input" class="meta-cleaner-btn">
        <img
          src="../assets//images/search-img.svg"
          alt="meta cleaner search image"
        />
        <span *ngIf="isOnline">MetaCleaner</span>
        <span *ngIf="!isOnline">Обрати фото</span>
      </label>

      <div class="ball one"></div>
      <div class="ball two"></div>
      <div class="ball three"></div>
    </div>

    <div class="open-camera" *ngIf="!isOnline">
      <p>або</p>
      <div class="get-photo" (click)="takePhotoUser()">
        <img src="../assets/images/camera.svg" alt="зробити фото" />
        <span>Зробити фото</span>
      </div>
    </div>
  </div>

  <app-selected-photo
    class="selected-on"
    *ngIf="continueListPhotos && continueListPhotos.length"
    [fileList]="continueListPhotos"
    (close)="closeSelected($event)"
    (clear)="clearMetadataFn($event)"
  >
  </app-selected-photo>

  <app-submit-selected-photo
    *ngIf="selectedPhotos && selectedPhotos.length"
    [fileList]="selectedPhotos"
    (continue)="continueSelected($event)"
  >
  </app-submit-selected-photo>

  <app-clear-metadata
    *ngIf="clearMetadata && continueListPhotos && continueListPhotos.length"
    [photoList]="continueListPhotos"
    (cancel)="cancelClearMetadata($event)"
    (successClear)="successClearMetadata($event)"
  >
  </app-clear-metadata>

  <app-success-modal
    *ngIf="photosWithClearMetadata && photosWithClearMetadata.length"
    (goHome)="goHome($event)"
  ></app-success-modal>
</div>
<footer
  class="footer"
  *ngIf="!continueListPhotos || !continueListPhotos?.length"
>
  <span class="powered-by">by CyberRegiment</span>
</footer>

<app-ethernet-popups
  *ngIf="isOnline && !isWebVersion"
  [isOnline]="isOnline"
  [isWebVersion]="isWebVersion"
  (newIsOnline)="newIsOnline($event)"
>
</app-ethernet-popups>
<input type="file" accept="image/*;capture=camera" />

